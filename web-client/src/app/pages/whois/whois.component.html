<main id="whois">
  <header>
    <h3>
      <svg _ngcontent-ffo-c45="" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="address-book" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-address-book fa-w-14"><path _ngcontent-ffo-c45="" fill="currentColor" d="M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-228-32c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H118.4C106 384 96 375.4 96 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"></path></svg>
      Información de usuarios
    </h3>
  </header>
  <section>
    <aside>
      <nav>
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-search fa-w-16"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z" class=""></path></svg>
        <input type="text" placeholder="buscar nick" [(ngModel)]="searchWho" (keypress)="kp($event)"/>
      </nav>
      <h4>Recientes</h4>
      <ul *ngIf="historyWhos && historyWhos.length > 0">
        <li *ngFor="let history of historyWhos" (click)="setCurrent(history.nick)">
          <img [src]="history.avatar" />
          {{history.nick}}
        </li>
      </ul>
      <p *ngIf="!historyWhos || historyWhos.length == 0">
        No buscaste ningún nick por ahora.
      </p>
    </aside>
    <article *ngIf="currentWho">
      <header>
        <svg (click)="search(currentWhoNick)" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sync-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-sync-alt fa-w-16"><path fill="currentColor" d="M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z" class=""></path></svg>
        <img [src]="currentImage" class="avatar"/>
        <h3>
          {{currentWho.username}}
        </h3>
        <span *ngIf="currentWho.userAccount">@{{currentWho.userAccount}}</span>
      </header>
      <section>
        <div class="data-set" *ngIf="currentWho.connectedFrom">
          <label>Conectado desde:</label>
          <span style="font-size: 12px;">{{currentWho.connectedFrom}}</span>
        </div>
        <div class="data-set" *ngIf="currentWho.server">
          <label>Servidor:</label>
          <span>{{currentWho.server}}</span>
        </div>
        <div class="data-set">
          <label>Operador de red:</label>
          <span *ngIf="currentWho.isGOP" class="label yes">SI</span>
          <span *ngIf="!currentWho.isGOP" class="label no">NO</span>
        </div>
        <div class="data-set" *ngIf="currentWho.modes">
          <label>Modos de usuario:</label>
          <span>{{currentWho.modes}}</span>
        </div>
        <div class="data-set">
          <label>Conexión cifrada:</label>
          <span *ngIf="currentWho.isSecured" class="label yes">SI</span>
          <span *ngIf="!currentWho.isSecured" class="label no">NO</span>
        </div>
        <div class="data-set" *ngIf="currentWho.idle">
          <label>Sin actividad:</label>
          <span>{{currentWho.getIdle()}}</span>
        </div>
        <div class="data-set" *ngIf="currentWho.lastLogin">
          <label>Último login:</label>
          <span>{{currentWho.getLastLogin()}}</span>
        </div>
      </section>
      <footer *ngIf="channels">
        <app-menu-list title="Canales" [elements]="channels" (elemSelected)="joinC($event);" type="chat"></app-menu-list>
        <!-- lista de canales conectados: -->
      </footer>
    </article>
  </section>
</main>
